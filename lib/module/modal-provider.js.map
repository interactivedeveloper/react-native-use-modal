{"version":3,"sources":["modal-provider.tsx"],"names":["React","useMemo","useState","ModalContext","View","ModalProvider","children","modalMap","setModalMap","Map","modalContext","set","id","node","prevState","delete","nextMap","modalList","entries","sort","keyA","keyB","localeCompare","map","key","modal"],"mappings":"AAAA,OAAOA,KAAP,IAA6BC,OAA7B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,IAAT,QAAqB,cAArB;AAEA,OAAO,MAAMC,aAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACvD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CACtC,IAAIO,GAAJ,EADsC,CAAxC;AAIA,QAAMC,YAAY,GAAGT,OAAO,CAAmC,MAAM;AACnE,WAAO;AACL;AACAU,MAAAA,GAAG,EAAE,CAACC,EAAD,EAAKC,IAAL,KAAc;AACjB;AACAL,QAAAA,WAAW,CAAEM,SAAD,IAAe,IAAIL,GAAJ,CAAQK,SAAR,EAAmBH,GAAnB,CAAuBC,EAAvB,EAA2BC,IAA3B,CAAhB,CAAX;AACD,OALI;AAML;AACAE,MAAAA,MAAM,EAAGH,EAAD,IAAQ;AACd;AACAJ,QAAAA,WAAW,CAAEM,SAAD,IAAe;AACzB,gBAAME,OAAO,GAAG,IAAIP,GAAJ,CAAQK,SAAR,CAAhB;AACAE,UAAAA,OAAO,CAACD,MAAR,CAAeH,EAAf;AACA,iBAAOI,OAAP;AACD,SAJU,CAAX;AAKD;AAdI,KAAP;AAgBD,GAjB2B,EAiBzB,EAjByB,CAA5B;AAmBA,QAAMC,SAAS,GAAGhB,OAAO,CAAC,MAAM;AAC9B,WAAO,CAAC,GAAGM,QAAQ,CAACW,OAAT,EAAJ,EACJC,IADI,CACC,CAAC,CAACC,IAAD,CAAD,EAAS,CAACC,IAAD,CAAT,KAAoBD,IAAI,CAACE,aAAL,CAAmBD,IAAnB,CADrB,EAEJE,GAFI,CAEA,CAAC,CAACC,GAAD,EAAMC,KAAN,CAAD,kBAAkB,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAED;AAAX,OAAiBC,KAAjB,CAFlB,CAAP;AAGD,GAJwB,EAItB,CAAClB,QAAD,CAJsB,CAAzB;AAMA,sBACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEG;AAA9B,KACGJ,QADH,EAEGW,SAFH,CADF;AAMD,CApCM","sourcesContent":["import React, { ContextType, useMemo, useState } from 'react';\nimport { ModalContext } from './modal-context';\nimport { View } from 'react-native';\n\nexport const ModalProvider: React.FC = ({ children }) => {\n  const [modalMap, setModalMap] = useState<Map<string, React.ReactNode>>(\n    new Map()\n  );\n\n  const modalContext = useMemo<ContextType<typeof ModalContext>>(() => {\n    return {\n      // 모달 추가/업데이트\n      set: (id, node) => {\n        // ID에 입력받은 노드 매핑\n        setModalMap((prevState) => new Map(prevState).set(id, node));\n      },\n      // 모달 제거\n      delete: (id) => {\n        // 주어진 ID에 해당하는 모달 제거\n        setModalMap((prevState) => {\n          const nextMap = new Map(prevState);\n          nextMap.delete(id);\n          return nextMap;\n        });\n      },\n    };\n  }, []);\n\n  const modalList = useMemo(() => {\n    return [...modalMap.entries()]\n      .sort(([keyA], [keyB]) => keyA.localeCompare(keyB))\n      .map(([key, modal]) => <View key={key}>{modal}</View>);\n  }, [modalMap]);\n\n  return (\n    <ModalContext.Provider value={modalContext}>\n      {children}\n      {modalList}\n    </ModalContext.Provider>\n  );\n};\n"]}